<!DOCTYPE html>
<html>

<head>
    ﻿  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Install and Configure Logshark</title>
  <meta name="description" content="Tableau log file analysis utility.">

  <link rel="shortcut icon" type="image/png" href="/Logshark/assets/logo.png">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="/Logshark/css/main.css">
  <link rel="stylesheet" href="/Logshark/css/github-highlight.css">

  <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>

<body>
    <div class="container">
        <header class="site-header">
  <div class="wrapper">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand navbar-brand-logo" href="/Logshark/#">Logshark <img src="/Logshark/assets/Logshark.ico" alt="Logshark" class="logo" /></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a target="_blank" href="https://community.tableau.com/community/forums/server-administration/content">Forum</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="tableauIcon"><a target="_blank" href="http://tableau.com"><img src="/Logshark/assets/logo.png" alt="Tableau Developers" class="logo" /></a></li>
            <li><a target="_blank" href="https://github.com/tableau/logshark"><span class="icon icon--github" title="Tableau Logshark" alt="Tableau Logshark"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span></a></li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
</header>

        ﻿<div class="well docs-menu col-xs-12 col-sm-4 col-md-3">
    <ul class="nav nav-list">
        <li class="nav-header">Get Started</li>
        <li>
            <a href="/Logshark/docs">Logshark Installation and User Guide</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_prefunc">Get your computer set up for Logshark</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_postgres">Install and Configure PostgresSQL</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_install">Install and Configure Logshark</a>
        </li>

        <li class="nav-header">Use Logshark</li>
        <li>
            <a href="/Logshark/docs/logshark_run">Run Logshark and View the Results</a>
        </li>
       
        <li class="nav-header">Logshark Reference</li>
        <li>
            <a href="/Logshark/docs/logshark_cmds">Logshark Command Options</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_plugins">Logshark Plugins and Generated Workbooks</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_customwbk">Add Custom Workbooks</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_mongo">Use your own MongoDB Instance</a>
        </li>
        <li>
            <a href="/Logshark/docs/logshark_remove">Uninstall Logshark</a>
        </li>
    </ul>
</div>

        <div class="content .col-xs-12 .col-sm-8 .col-md-9">
            <h1>Install and Configure Logshark</h1>
            <div class="edit-container">
                <a href="https://github.com/tableau/logshark/edit/master/docs/logshark_install.md" class="edit-links"><span class="glyphicon glyphicon-pencil"></span> Edit this page</a>
                &nbsp;
                <a href="https://github.com/tableau/logshark/issues" class="edit-links"><span class="glyphicon glyphicon-flag"></span> Submit an issue</a>
            </div>
            <br />
            <p>If you have not done so already, you need to run the Logshark Setup program. If you need to uninstall or re-install Logshark, you should follow the <a href="#uninstall-logshark">Uninstall Logshark</a> instructions.</p>

<p>In this section:</p>

<ul id="markdown-toc">
  <li><a href="#run-the-logshark-setup-program" id="markdown-toc-run-the-logshark-setup-program">Run the Logshark Setup program</a></li>
  <li><a href="#configure-logshark" id="markdown-toc-configure-logshark">Configure Logshark</a>    <ul>
      <li><a href="#edit-the-postgresql-connection-information-in-logsharkconfig" id="markdown-toc-edit-the-postgresql-connection-information-in-logsharkconfig">Edit the PostgreSQL connection information in Logshark.config</a></li>
      <li><a href="#edit-the-tableau-server-connection-information-in-logsharkconfig" id="markdown-toc-edit-the-tableau-server-connection-information-in-logsharkconfig">Edit the Tableau Server connection information in Logshark.config</a></li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="run-the-logshark-setup-program">Run the Logshark Setup program</h3>

<ol>
  <li>
    <p>From the directory where you downloaded Logshark, run the Logshark Setup program, double-click the file <code class="highlighter-rouge">Setup_Logshark_v1.0.exe</code>.</p>
  </li>
  <li>
    <p>Click <strong>Install</strong> to use the default configuration. This adds Logshark to the PATH environment variable.</p>
  </li>
</ol>

<ul>
  <li>Click <strong>Options</strong> if you need to change the default installation directory (from <code class="highlighter-rouge">C:\Program Files\Logshark</code>).</li>
</ul>

<p><strong>NOTE:</strong> The archive logs will need to be unzipped or copied to the drive where you have installed Logshark. If your <code class="highlighter-rouge">C:\</code> drive is low on space, you should install Logshark in a different location.</p>

<hr />

<h3 id="configure-logshark">Configure Logshark</h3>

<p>Logshark uses a configuration file to point to the databases that are used for parsing and storing log data. The configuration file also lets you publish the Tableau workbooks to a specific Tableau Server. This configuration is located at <em>&lt;install_directory&gt;</em><code class="highlighter-rouge">\Config\Logshark.config</code>.</p>

<p>Some of these configuration settings can be overridden at the command line. Other settings can only be set in the configuration file. For example, if you want to specify which Tableau Server to use when publishing workbooks, you need to set that option in the configuration file.</p>

<p><strong>NOTE:</strong> To be able to publish workbooks to Tableau Server, the REST API option (<code class="highlighter-rouge">api.server.enabled</code>) must be enabled. See the <a href="https://onlinehelp.tableau.com/current/api/rest_api/en-us/help.htm#REST/rest_api_requ.htm%3FTocPath%3D_____3">REST API Requirements</a> article for more details.</p>

<hr />

<h4 id="edit-the-postgresql-connection-information-in-logsharkconfig">Edit the PostgreSQL connection information in Logshark.config</h4>

<ol>
  <li>
    <p>In a text editor, open the configuration file: <em>&lt;install_directory&gt;</em><code class="highlighter-rouge">\Config\Logshark.config</code> file. In the Logshark.config file, change the <code class="highlighter-rouge">&lt;PostgresConnection&gt;</code> settings to match your PostgreSQL setup.</p>
  </li>
  <li>
    <p>Set the Server <code class="highlighter-rouge">address</code> attribute to the name of the computer that is running PostgreSQL. For example, if you have installed PostgreSQL on your local computer, use <strong>localhost</strong> as the address.</p>
  </li>
  <li>
    <p>Set the <code class="highlighter-rouge">port</code> attribute to the port your server uses if it is different from the default. The default port is <strong>5432</strong>.</p>
  </li>
  <li>
    <p>For the <code class="highlighter-rouge">user</code>, set both the <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">password</code> to <strong>logshark</strong> to match the role/user and password you added when you <a href="#configure-postgresql-for-logshark">Configure PostgreSQL for Logshark</a>.</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code>...
<span class="nt">&lt;PostgresConnection&gt;</span>
   <span class="nt">&lt;Server</span> <span class="na">address=</span><span class="s">"localhost"</span> <span class="na">port=</span><span class="s">"5432"</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;User</span> <span class="na">username=</span><span class="s">"logshark"</span> <span class="na">password=</span><span class="s">"logshark"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/PostgresConnection&gt;</span>
 ...
</code></pre>
    </div>
  </li>
  <li>
    <p>Save the file.</p>

    <p><strong>NOTE:</strong> You only need to edit the MongoDB connection information if you plan to use your own MongoDB installation to store the log data (recommended if logs are greater than 2GB). In most cases, you want to use the MongoDB instance that Logshark provides (using the <code class="highlighter-rouge">--startlocalmongo</code> command line option, or by setting <code class="highlighter-rouge">LocalMongoOptions useAlways="true"</code> in the config). For more information, see <a href="#use-your-own-mongodb-instance">Use your own MongoDB instance</a>.</p>
  </li>
</ol>

<hr />

<h4 id="edit-the-tableau-server-connection-information-in-logsharkconfig">Edit the Tableau Server connection information in Logshark.config</h4>

<p>If you want to publish the workbooks that Logshark generates on Tableau Server, change the <code class="highlighter-rouge">&lt;TableauConnection&gt;</code> settings in the Logshark.config file to match your Tableau Server configuration.</p>

<p>When you edit the Tableau Server connection, follow these guidelines:</p>

<ul>
  <li>
    <p>The Server <code class="highlighter-rouge">address</code> attribute should just contain the hostname or IP address of the computer (for example, <em>mytableauserver.tableau.com</em>), and should not be prefixed with the protocol (<em>http or https</em>).</p>
  </li>
  <li>
    <p>When using a non-standard port for your Tableau Server, ensure the <code class="highlighter-rouge">port</code> attribute is set correctly (by default, HTTP uses port <strong>80</strong> and HTTPS uses port <strong>443</strong>).</p>
  </li>
  <li>
    <p>The <code class="highlighter-rouge">site</code> attribute cannot be blank. If you are using the default site (for example, <code class="highlighter-rouge">http://localhost/#</code>), specify <strong>Default</strong> as the name (<code class="highlighter-rouge">site="Default"</code>).</p>
  </li>
  <li>
    <p>To publish workbooks, the user account you specify must exist on the Tableau Server (and the site) with Publisher permissions and the permissions to create projects. (<em>Site Administrator role will be the easiest option</em>).</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code>...
<span class="nt">&lt;TableauConnection</span> <span class="na">protocol=</span><span class="s">"http"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Server</span> <span class="na">address=</span><span class="s">"myTableauServer"</span> <span class="na">port=</span><span class="s">"80"</span> <span class="na">site=</span><span class="s">"MySite"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;User</span> <span class="na">username=</span><span class="s">"myUser"</span> <span class="na">password=</span><span class="s">"myUserPassword"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/TableauConnection&gt;</span>
...
</code></pre>
    </div>
  </li>
</ul>

            <!-- Footer -->
<footer>
    <div class="row">
        <hr class="footer-hr">
        <p>This site is open source. Suggestions and pull requests are welcome on our <a href="https://github.com/tableau/logshark">GitHub page</a>.</p>
        <p>&copy; 2016 Tableau.</p>
    </div>
</footer>

        </div>
    </div>
</body>

</html>
